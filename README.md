#

> Go-приложение 

## Описание проекта

Проект предоставляет API для взаимодействия с блоговой системой. Сервер поддерживает следующие задачи:

Регистрация и авторизация пользователей.
Добавление, удаление и обновление статей.
Генерация документации API с использованием Swagger.
Документация API доступна через Swagger UI, что позволяет разработчикам легко изучать и тестировать эндпоинты.

## Требования
Для успешной установки и работы приложения необходимы следующие инструменты и их версии:

 - **Go 1.22.4** - нужен для установки зависимостей и запуска backend-части.
 - **Docker 20.10+** - необходим для сборки и запуска контейнеров.
 - **Node.js 18+** - нужен для сборки frontend части.
 - **npm 9+** - нужен для управления зависимостями frontend части.
 - **React 18+** - используется для создания пользовательского интерфейса (frontend).


## Установка и сборка

## Docker сборка

Проект полностью контейнеризован и собирается с помощью Docker Compose. Это упрощает процесс развертывания и обеспечивает согласованность окружения.

### Особенности сборки
- **Dockerfile оптимизирован для кэширования зависимостей:**
  - **Сначала копируются go.mod и go.sum для загрузки зависимостей.**
  - **Это позволяет избежать повторной загрузки зависимостей при изменении кода, если go.mod и go.sum остаются неизменными.**
- **Swagger-документация генерируется автоматически и доступна через /docs.**

### Сборка Docker-образа

Соберите Docker-образ:

```sh
docker compose build
```
Запустите контейнеры:
```sh
docker compose up
```

### После запуска приложение будет доступно по адресу:

- **Backend: http://localhost:8000**
- **Frontend: http://localhost:3000**
- **Swagger UI: http://localhost:8000/swagger/index.html**

Для остановки контейнеров:
```sh
docker compose down
```

## Структура проекта

```plaintext
server/
├── backend/
│   ├── cmd/
│   │   └── main.go                                      # Точка входа приложения.
│   ├── config/                                          # Конфигурационные файлы.
│   │   ├── config.go                                    # Загрузка конфигурации.
│   │   └── config.json                                  # Конфигурация по умолчанию.
│   │───migrations/                                      # Файлы миграций базы данных.
│   │       ├── 000001_create_users_table.down.sql
│   │       └── 000001_create_users_table.up.sql
│   ├── internal/                                        # Внутренняя логика приложения.
│   │   ├── app/                                         # Инициализация приложения.
│   │   │   └── app.go                                   # Настройка маршрутов и сервера.
│   │   ├── domain/                                      # Бизнес-логика и модели данных.
│   │   │   ├── models/                                  # Определения моделей.
│   │   │   │   ├── article.go
│   │   │   │   └── user.go
│   │   │   └── repository/                              # Репозитории для взаимодействия с БД.
│   │   │       ├── article_repository.go
│   │   │       └── user_repository.go
│   │   ├── transport/                                   # Транспортный уровень (middleware, контроллеры).
│   │   │   ├── controllers/                             # Контроллеры для обработки HTTP-запросов.
│   │   │   │   ├── article_controller.go
│   │   │   │   └── auth_controller.go
│   │   │   └── middleware/                              # Middleware для обработки HTTP-запросов.
│   │   │       ├── auth_middleware.go
│   │   │       └── maxUser_middleware.go
│   │   └── usecase/                                     # UseCase для бизнес-логики.
│   │       └── article_usecase.go                       # UseCase для статей.
│   ├── pkg/                                             # Переиспользуемый код.
│   │   ├── hash.go                                      # Утилита для хэширования.
│   │   └── jwt.go                                       # Утилита для работы с JWT.
│   ├── docs/                                            # Документация API (Swagger).
│   │   ├── docs.go                                      # Метаданные для Swagger (генерируется автоматически).
│   │   ├── swagger.json                                 # Спецификация OpenAPI/Swagger в формате JSON.
│   │   └── swagger.yaml                                 # Спецификация OpenAPI/Swagger в формате YAML.
│   ├── Dockerfile
│   ├── go.mod                                           # Go модули.
│   ├── go.sum                                           # Хэши зависимостей.
│   ├── Makefile
│   └── server/
├── frontend/
│   ├── node_modules/
│   ├── public/
│   │   └── index.html
│   ├── src/
│   │   ├── api/
│   │   ├── components/
│   │   ├── css/
│   │   ├── images/
│   │   ├── App.css
│   │   ├── App.js
│   │   ├── articleList.js
│   │   ├── index.css
│   │   └── index.js
│   ├── .gitignore
│   ├── Dockerfile
│   ├── package-lock.json
│   ├── package.json
│   └── README.md
└── docker-compose.yaml
```
## Маршрутизация
### Публичные маршруты
 - **POST /register** - Регистрация нового пользователя.
 - **POST /authorization** - Авторизация пользователя и получение JWT-токена.
 - **GET /article** - Получение списка статей.
### Защищенные маршруты (группа /api)
 - **POST /api/add** - Добавление новой статьи.
 - **DELETE /api/delete** - Удаление статьи по ID.
 - **PUT /api/update** - Обновление статьи по ID.

## Документация API (Swagger)
Документация API доступна через Swagger UI. Она позволяет разработчикам исследовать и тестировать эндпоинты.

## Как получить доступ к Swagger UI
1. Запустите контейнеры с помощью команды:
```sh
docker compose up
```
2. Откройте браузер и перейдите по адресу:
```sh
http://localhost:8000/index.html
```
3. В Swagger UI вы сможете:

Просматривать все доступные эндпоинты.
Тестировать запросы напрямую из интерфейса.
Изучать структуру запросов и ответов.